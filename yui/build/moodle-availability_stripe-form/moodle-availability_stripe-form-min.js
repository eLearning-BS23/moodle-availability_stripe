YUI.add("moodle-availability_stripe-form",function(s,e){M.availability_stripe=M.availability_stripe||{},M.availability_stripe.form=s.Object(M.core_availability.plugin),M.availability_stripe.form.initInner=function(e){this.currencies=e},M.availability_stripe.form.getNode=function(e){var i,a,t,l,n="";for(i in this.currencies)n+='<option value="'+i+'" '+(e.currency===i?' selected="selected" ':"")+" >",n+=this.currencies[i],n+="</option>";return a="<div><label>",a+=M.util.get_string("businessemail","availability_stripe"),a+='<input name="businessemail" type="email" /></label></div>',a+="<div><label>",a+=M.util.get_string("currency","availability_stripe"),a+='<select name="currency" />'+n+"</select></label></div>",a+="<div><label>",a+=M.util.get_string("cost","availability_stripe"),a+='<input name="cost" type="text" /></label></div>',t=s.Node.create("<span>"+a+"</span>"),e.businessemail&&t.one("input[name=businessemail]").set("value",e.businessemail),e.cost&&t.one("input[name=cost]").set("value",e.cost),M.availability_stripe.form.addedEvents||(M.availability_stripe.form.addedEvents=!0,(l=s.one(".availability-field")).delegate("change",function(){M.core_availability.form.update()},".availability_stripe select[name=currency]"),l.delegate("change",function(){M.core_availability.form.update()},".availability_stripe input")),t},M.availability_stripe.form.fillValue=function(e,i){e.businessemail=i.one("input[name=businessemail]").get("value"),e.currency=i.one("select[name=currency]").get("value"),e.cost=this.getValue("cost",i),e.itemname=i.one("input[name=itemname]").get("value"),e.itemnumber=i.one("input[name=itemnumber]").get("value")},M.availability_stripe.form.getValue=function(e,i){var a=i.one("input[name="+e+"]").get("value");return/^[0-9]+([.,][0-9]+)?$/.test(a)?parseFloat(a.replace(",",".")):a},M.availability_stripe.form.fillErrors=function(e,i){var a={};this.fillValue(a,i),""===a.businessemail&&e.push("availability_stripe:error_businessemail"),(a.cost!==undefined&&"string"==typeof a.cost||a.cost<=0)&&e.push("availability_stripe:error_cost")}},"@VERSION@");