YUI.add("moodle-availability_stripe-form",function(s,i){M.availability_stripe=M.availability_stripe||{},M.availability_stripe.form=s.Object(M.core_availability.plugin),M.availability_stripe.form.initInner=function(i){this.currencies=i},M.availability_stripe.form.getNode=function(i){var e,a,t,l="";for(e in this.currencies)l=(l+='<option value="'+e+'" '+(i.currency===e?' selected="selected" ':"")+" >")+this.currencies[e]+"</option>";return a="<div><label>",a=(a=(a=(a=(a+=M.util.get_string("businessemail","availability_stripe"))+'<input name="businessemail" type="email" /></label></div>'+"<div><label>")+M.util.get_string("currency","availability_stripe"))+('<select name="currency" />'+l+"</select></label></div>")+"<div><label>")+M.util.get_string("cost","availability_stripe"),a=s.Node.create("<span>"+(a+='<input name="cost" type="text" /></label></div>')+"</span>"),i.businessemail&&a.one("input[name=businessemail]").set("value",i.businessemail),i.cost&&a.one("input[name=cost]").set("value",i.cost),M.availability_stripe.form.addedEvents||(M.availability_stripe.form.addedEvents=!0,(t=s.one(".availability-field")).delegate("change",function(){M.core_availability.form.update()},".availability_stripe select[name=currency]"),t.delegate("change",function(){M.core_availability.form.update()},".availability_stripe input")),a},M.availability_stripe.form.fillValue=function(i,e){i.businessemail=e.one("input[name=businessemail]").get("value"),i.currency=e.one("select[name=currency]").get("value"),i.cost=this.getValue("cost",e)},M.availability_stripe.form.getValue=function(i,e){i=e.one("input[name="+i+"]").get("value");return/^[0-9]+([.,][0-9]+)?$/.test(i)?parseFloat(i.replace(",",".")):i},M.availability_stripe.form.fillErrors=function(i,e){var a={};this.fillValue(a,e),""===a.businessemail&&i.push("availability_stripe:error_businessemail"),(a.cost!==undefined&&"string"==typeof a.cost||a.cost<=0)&&i.push("availability_stripe:error_cost")}},"@VERSION@",{requires:["base","node","event","moodle-core_availability-form"]});